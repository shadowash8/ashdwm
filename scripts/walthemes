#!/bin/bash

# 1. Get the list of all themes from pywal
# We strip the headers and the "extra" options for a clean list
themes=$(wal --theme | grep -E '^ - ' | sed 's/ - //g')

# 2. Pipe that list into dmenu
# You can customize dmenu colors/font here if you wish
selected_theme=$(echo "$themes" | dmenu -s -p "Select Theme:" -l 20)

# 3. If a theme was selected, apply it and run your -o script
if [ -n "$selected_theme" ]; then
    wal --theme "$selected_theme" -o "walup"
    notify-send "Pywal" "Theme '$selected_theme' applied."
fi
